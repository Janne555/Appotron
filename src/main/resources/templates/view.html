<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

    <head th:include="fragments :: head">
    </head>
    <head>
        <script>
            /*<![CDATA[*/
            /*]]>*/

        </script>
    </head>
    <body>
    <div th:replace="fragments :: navigation">
    </div>
    <div class="w3-main w3-mobile">
    <div class="w3-col m8 l5 w3-card-4 w3-mobile">
                <div class="w3-container w3-green">
                    <h2 th:text="${title}">Basic Info</h2>
                </div>

                <!-- If item show this -->
                <div th:if="${isItem}">
                    <div class="w3-margin">
                        <h3>Name</h3>
                    <p class="w3-margin" th:text="${item.name}" />
                    </div>
                    <div class="w3-margin">
                        <h3>Location</h3>
                        <p class="w3-margin" th:text="${item.location}" />
                    </div>
                    <div class="w3-margin">
                        <h3>Serial Number</h3>
                        <p class="w3-margin" th:text="${item.identifier}" />
                    </div>
                    <div class="w3-margin" th:if="${isFoodstuff}">
                        <h3>Producer</h3>
                        <p class="w3-margin" th:text="${producer}" />
                    </div>
                    <div class="w3-margin">
                        <h3>Created On</h3>
                        <p class="w3-margin" th:text="${item.date}" />
                    </div>
                    <div class="w3-margin" th:if="${isFoodstuff}">
                        <h3>Expiration Date</h3>
                        <p class="w3-margin" th:text="${item.expiration}" />
                    </div>
                    <div th:if="${isFoodstuff}">
                        <div th:unless="${nutritionalinfo}">
                            <a class="w3-button w3-teal w3-block" th:href="@{~/addnutritionalinfo?id={id} (id=${item.identifier})}">Add nutritional info</a>
                        </div>
                        <div th:if="${nutritionalinfo}">
                        <div class="w3-row-padding">
                             <div class="w3-quarter">
                                <div class="w3-panel w3-blue w3-card-8 w3-round">
                                    <p>Energy</p>
                                    <p th:text="${nutritionalinfo.energy}">joujou</p>
                                </div>
                             </div>
                             <div class="w3-quarter">
                                <div class="w3-panel w3-blue w3-card-8 w3-round">
                                    <p>Carbohydrate</p>
                                    <p th:text="${nutritionalinfo.carbs}" />
                                </div>
                             </div>
                             <div class="w3-quarter">
                                <div class="w3-panel w3-blue w3-card-8 w3-round">
                                    <p>Protein</p>
                                    <p th:text="${nutritionalinfo.protein}" />
                                </div>
                             </div>
                             <div class="w3-quarter">
                                <div class="w3-panel w3-blue w3-card-8 w3-round">
                                    <p>Fat</p>
                                    <p th:text="${nutritionalinfo.fat}" />
                                </div>
                             </div>
                        </div>
                        </div><br />
                    </div>

                    <div class="w3-margin" th:if="${not #lists.isEmpty(tags)}">
                        <h3>Tags</h3>
                        <ul class="w3-margin">
                            <li th:each="tag : ${tags}"><p th:text="${tag}"></p></li>
                        </ul>
                    </div>
                </div>

                <!-- If book show this -->
                <div th:if="${isBook}">
                    <div class="w3-margin">
                        <h3>Title</h3>
                    <p class="w3-margin" th:text="${item.name}" />
                    </div>
                    <div class="w3-margin">
                        <h3>Location</h3>
                        <p class="w3-margin" th:text="${item.location}" />
                    </div>
                    <div class="w3-margin">
                        <h3>Author</h3>
                        <p class="w3-margin" th:text="${author}" />
                    </div>
                    <div class="w3-margin">
                        <h3>Publisher</h3>
                        <p class="w3-margin" th:text="${publisher}" />
                    </div>
                    <div class="w3-margin">
                        <h3>Publishing Year</h3>
                        <p class="w3-margin" th:text="${year}" />
                    </div>
                    <div class="w3-margin">
                        <h3>Genre</h3>
                        <p class="w3-margin" th:text="${genre}" />
                    </div>
                    <div class="w3-margin">
                        <h3>ISBN</h3>
                        <p class="w3-margin" th:text="${item.identifier}" />
                    </div>
                    <div class="w3-margin" th:if="${not #lists.isEmpty(tags)}">
                        <h3>Tags</h3>
                        <ul class="w3-margin">
                            <li th:each="tag : ${tags}"><p th:text="${tag}"></p></li>
                        </ul>
                    </div>
                </div>

                <!-- if meal show this -->
                <div th:if="${isMeal}">
                    <div class="w3-row-padding">
                         <div class="w3-half">
                            <div class="w3-panel w3-blue w3-round">
                                <p>Energy</p>
                                <p th:text="${item.energy}">joujou</p>
                            </div>
                         </div>
                         <div class="w3-half">
                            <div class="w3-panel w3-blue w3-round">
                                <p>Carbohydrate</p>
                                <p th:text="${item.carbohydrate}" />
                            </div>
                         </div>
                    </div>
                    <div class="w3-row-padding">
                         <div class="w3-half">
                            <div class="w3-panel w3-blue w3-round">
                                <p>Protein</p>
                                <p th:text="${item.protein}" />
                            </div>
                         </div>
                         <div class="w3-half">
                            <div class="w3-panel w3-blue w3-round">
                                <p>Fat</p>
                                <p th:text="${item.fat}" />
                            </div>
                         </div>
                    </div><br />
                    <div class="w3-container w3-margin">
                        <ul class="w3-ul w3-hoverable" th:each="component : ${item.components}">
                            <li><p><span th:text="${component.name}" />: <span class="w3-right-align" th:text="${component.mass}" />g</p></li>
                        </ul>
                    </div>
                </div>
            <div class="w3-row-padding">
                <div class="w3-third">
                    <a class="w3-button w3-teal w3-block">Delete</a> <br />
                </div>
                <div class="w3-third">
                     <a class="w3-button w3-teal w3-block">Edit</a> <br />
                </div>
                <div class="w3-third">
                    <a class="w3-button w3-teal w3-block">Borrow</a> <br />
                </div>
            </div>
            <br />
            
    </div>
    </div>
    </body>
</html>